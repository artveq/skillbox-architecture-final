# 11. Список ADR (Architectural Decision Records)

Ниже приведён перечень архитектурных решений, определяющих целевую архитектуру платформы.  
Каждый ADR содержит краткое описание сути решения, обоснование и связанные NFR.
Более подробно основные ADR представлены в виде отдельных файлов (папка ADR).


## ADR-001: Архитектурный стиль — микросервисы
**Суть решения:** доменно-ориентированная микросервисная архитектура вместо модульного монолита.  
**Обоснование:** независимое масштабирование доменов, изоляция отказов, параллельная разработка.  
**Связанные NFR:** масштабируемость, надёжность, сопровождаемость.


## ADR-002: Стиль взаимодействия — REST + event-driven
**Суть решения:** REST для команд/запросов, Event Bus для событий и асинхронных процессов.  
**Обоснование:** снижает связность, поддерживает пиковые нагрузки, улучшает устойчивость.  
**Связанные NFR:** производительность, масштабируемость, надёжность.


## ADR-003: Сегментация API — External / Internal / IoT Gateway
**Суть решения:** три независимых API-шлюза для разных типов клиентов.  
**Обоснование:** разные профили нагрузки, разные требования безопасности, независимая эволюция API.  
**Связанные NFR:** безопасность, интероперабельность, производительность.


## ADR-004: Стратегия хранения данных — региональные сторы + глобальный Data Lake
**Суть решения:** оперативные данные хранятся в регионе, аналитика — в глобальном хранилище.  
**Обоснование:** соответствие законам, низкая задержка, возможность глобальной аналитики.  
**Связанные NFR:** compliance, производительность, масштабируемость.


## ADR-005: Интеграция устройств — IoT Gateway
**Суть решения:** единая точка входа для устройств, поддержка разных протоколов, буферизация.  
**Обоснование:** упрощение безопасности, QoS, снижение нагрузки на Core-сервисы.  
**Связанные NFR:** интероперабельность, надёжность, производительность.


## ADR-006: Облачная стратегия — мультиоблако
**Суть решения:** использование нескольких облачных провайдеров.  
**Обоснование:** соответствие локальным законам, снижение рисков, глобальная доступность.  
**Связанные NFR:** соответствие законодательству, надёжность, масштабируемость.


## ADR-007: Observability-платформа — единый слой наблюдаемости
**Суть решения:** централизованная система логов, метрик и трассировки для всех сервисов.  
**Обоснование:** мультиоблако и микросервисы требуют единого стандарта мониторинга.  
**Связанные NFR:** наблюдаемость, надёжность, сопровождаемость.


## ADR-008: API-контракты — OpenAPI как обязательный стандарт
**Суть решения:** все публичные и внутренние API описываются в OpenAPI и версионируются.  
**Обоснование:** снижает интеграционные риски, упрощает разработку и тестирование.  
**Связанные NFR:** сопровождаемость, интероперабельность.
